<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Sciccors</title>
    </head>
    <body>

        <script>
               
        function game() {

            const numberOfRounds =  5;
            let playerScore = 0;
            let computerScore = 0;

            for (i = 0; i < numberOfRounds; i++) {
                let playerSelection = getPlayerSelection();
                let computerSelection = getComputerSelection();
                let roundResult = playRound(playerSelection, computerSelection);
                console.log(roundResult);
                if (roundResult === 'win') {
                    playerScore++;
                    win = ('You win! Your ' + playerSelection + ' beats their ' + computerSelection + '.');
                    console.log(win + ' ' + playerScore + ':' + computerScore);
                } else if (roundResult === 'loose') {
                    computerScore++;
                    loose = ('You loose. Their ' + computerSelection + ' beats your ' + computerSelection + '.');
                    console.log(loose + ' ' + playerScore + ':' + computerScore);
                } else {
                    tie = ('You tied. You both choose ' + playerSelection + '.');
                    i--;
                    console.log(tie + ' ' + playerScore + ':' + computerScore);       
                }
            }

            if (playerScore === computerScore) {
                console.log('You tied, ' + playerScore + ' to ' + computerScore +'.' );
            }
            if (playerScore > computerScore){
                console.log('You win, ' + playerScore + ' to ' + computerScore + '!');
            }
            if (playerScore < computerScore){
                console.log('You loose, ' + playerScore + ' to ' + computerScore + '.');
            }


            function playRound(playerSelection, computerSelection) {
                if (playerSelection === computerSelection) return 'tie';
                else if (playerSelection === 'rock') return (computerSelection === 'scissors' ? 'win' : 'loose');
                else if (playerSelection === 'paper') return (computerSelection === 'rock' ? 'win' : 'loose');
                else if (playerSelection === 'scissors') return (computerSelection === 'paper' ? 'win' : 'loose');
                }
            } 
           
        function getComputerSelection() {
            let playOptions = ['rock','paper','scissors'];
            let computerSelection = playOptions[Math.floor(Math.random() * playOptions.length)];
            console.log('computer chose ' + computerSelection);
            return computerSelection;
        }

        function getPlayerSelection() {
            let playerSelection = prompt('Choose rock, paper, or scissors.');
            playerSelection = playerSelection.toLowerCase();
            console.log('player chose ' + playerSelection);
            return playerSelection;
        }
        
        </script>

    </body>
</html>